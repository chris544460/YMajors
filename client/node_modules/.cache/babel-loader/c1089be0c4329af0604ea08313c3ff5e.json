{"ast":null,"code":"var _jsxFileName = \"/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js\",\n    _s = $RefreshSig$();\n\nimport { FC, useCallback, useEffect, useState } from \"react\";\nimport swal from \"sweetalert\";\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\nimport { User } from \"../types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n  const checkContext = useCallback(() => {\n    axios.get(\"/auth/check\").then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n\n      if (data.auth) {\n        setIsAuthenticated(true);\n        setUser(data.user);\n      } else {\n        setIsAuthenticated(false);\n        setUser(undefined);\n      }\n    }).catch(() => swal({\n      text: \"Something went wrong while trying to fetch your auth status.\",\n      icon: \"warning\"\n    }));\n    setIsLoading(false);\n  }, []);\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      isLoading,\n      isAuthenticated,\n      user,\n      checkContext\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserContextProvider, \"ujUzbNRN0PjDJwJuz9oxPAsJdqk=\");\n\n_c = UserContextProvider;\nexport default UserContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["FC","useCallback","useEffect","useState","swal","axios","UserContext","User","UserContextProvider","children","isLoading","setIsLoading","isAuthenticated","setIsAuthenticated","user","setUser","checkContext","get","then","data","auth","undefined","catch","text","icon"],"sources":["/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js"],"sourcesContent":["import { FC, useCallback, useEffect, useState } from \"react\";\nimport swal from \"sweetalert\";\n\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\nimport { User } from \"../types\";\n\nconst UserContextProvider = ({ children }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n\n  const checkContext = useCallback(() => {\n    axios\n      .get(\"/auth/check\")\n      .then(({ data }) => {\n        if (data.auth) {\n          setIsAuthenticated(true);\n          setUser(data.user);\n        } else {\n          setIsAuthenticated(false);\n          setUser(undefined);\n        }\n      })\n      .catch(() =>\n        swal({\n          text: \"Something went wrong while trying to fetch your auth status.\",\n          icon: \"warning\",\n        })\n      );\n    setIsLoading(false);\n  }, []);\n\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n\n  return (\n    <UserContext.Provider\n      value={{ isLoading, isAuthenticated, user, checkContext }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContextProvider;\n"],"mappings":";;;AAAA,SAASA,EAAT,EAAaC,WAAb,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAEA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,SAASC,IAAT,QAAqB,UAArB;;;AAEA,MAAMC,mBAAmB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC5C,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACS,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAAC,KAAD,CAAtD;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,EAAhC;EAEA,MAAMa,YAAY,GAAGf,WAAW,CAAC,MAAM;IACrCI,KAAK,CACFY,GADH,CACO,aADP,EAEGC,IAFH,CAEQ,SAAc;MAAA,IAAb;QAAEC;MAAF,CAAa;;MAClB,IAAIA,IAAI,CAACC,IAAT,EAAe;QACbP,kBAAkB,CAAC,IAAD,CAAlB;QACAE,OAAO,CAACI,IAAI,CAACL,IAAN,CAAP;MACD,CAHD,MAGO;QACLD,kBAAkB,CAAC,KAAD,CAAlB;QACAE,OAAO,CAACM,SAAD,CAAP;MACD;IACF,CAVH,EAWGC,KAXH,CAWS,MACLlB,IAAI,CAAC;MACHmB,IAAI,EAAE,8DADH;MAEHC,IAAI,EAAE;IAFH,CAAD,CAZR;IAiBAb,YAAY,CAAC,KAAD,CAAZ;EACD,CAnB+B,EAmB7B,EAnB6B,CAAhC;EAqBAT,SAAS,CAAC,MAAM;IACdc,YAAY;EACb,CAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;EAIA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE;MAAEN,SAAF;MAAaE,eAAb;MAA8BE,IAA9B;MAAoCE;IAApC,CADT;IAAA,UAGGP;EAHH;IAAA;IAAA;IAAA;EAAA,QADF;AAOD,CArCD;;GAAMD,mB;;KAAAA,mB;AAuCN,eAAeA,mBAAf"},"metadata":{},"sourceType":"module"}