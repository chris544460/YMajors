{"ast":null,"code":"var _jsxFileName = \"/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n  const [courseList, setCourseList] = useState();\n  const [userMajor, setMajor] = useState();\n  const checkContext = useCallback(() => {\n    axios.get(\"/auth/check\").then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n\n      if (data.auth) {\n        setIsAuthenticated(true);\n        setUser(data.user);\n        setCourseList(data.courseList);\n        setMajor(data.major);\n        setIsLoading(false);\n      } else {\n        setIsAuthenticated(false);\n        setMajor(undefined);\n        setCourseList(undefined);\n        setUser(undefined);\n        setIsLoading(false);\n      }\n    }).catch(() => console.log(\"Something went wrong while trying to fetch your auth status.\"));\n  }, []);\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      isLoading,\n      isAuthenticated,\n      user,\n      courseList,\n      major,\n      checkContext\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserContextProvider, \"Op/jnTBmQNMgBR8m8pdCbqWVKwA=\");\n\n_c = UserContextProvider;\nexport default UserContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["useCallback","useEffect","useState","axios","UserContext","UserContextProvider","children","isLoading","setIsLoading","isAuthenticated","setIsAuthenticated","user","setUser","courseList","setCourseList","userMajor","setMajor","checkContext","get","then","data","auth","major","undefined","catch","console","log"],"sources":["/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\n\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\n\nconst UserContextProvider = ({ children }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n  const [courseList, setCourseList] = useState();\n  const [userMajor, setMajor] = useState();\n\n  const checkContext = useCallback(() => {\n    axios\n      .get(\"/auth/check\")\n      .then(({ data }) => {\n        if (data.auth) {\n          setIsAuthenticated(true);\n          setUser(data.user);\n          setCourseList(data.courseList);\n          setMajor(data.major);\n          setIsLoading(false);\n        } else {\n          setIsAuthenticated(false);\n          setMajor(undefined);\n          setCourseList(undefined);\n          setUser(undefined);\n          setIsLoading(false);\n        }\n      })\n      .catch(() =>\n        console.log(\n          \"Something went wrong while trying to fetch your auth status.\"\n        )\n      );\n  }, []);\n\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n\n  return (\n    <UserContext.Provider\n      value={{\n        isLoading,\n        isAuthenticated,\n        user,\n        courseList,\n        major,\n        checkContext,\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContextProvider;\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AAEA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;;AAEA,MAAMC,mBAAmB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC5C,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACO,eAAD,EAAkBC,kBAAlB,IAAwCR,QAAQ,CAAC,KAAD,CAAtD;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,EAAhC;EACA,MAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,EAA5C;EACA,MAAM,CAACa,SAAD,EAAYC,QAAZ,IAAwBd,QAAQ,EAAtC;EAEA,MAAMe,YAAY,GAAGjB,WAAW,CAAC,MAAM;IACrCG,KAAK,CACFe,GADH,CACO,aADP,EAEGC,IAFH,CAEQ,SAAc;MAAA,IAAb;QAAEC;MAAF,CAAa;;MAClB,IAAIA,IAAI,CAACC,IAAT,EAAe;QACbX,kBAAkB,CAAC,IAAD,CAAlB;QACAE,OAAO,CAACQ,IAAI,CAACT,IAAN,CAAP;QACAG,aAAa,CAACM,IAAI,CAACP,UAAN,CAAb;QACAG,QAAQ,CAACI,IAAI,CAACE,KAAN,CAAR;QACAd,YAAY,CAAC,KAAD,CAAZ;MACD,CAND,MAMO;QACLE,kBAAkB,CAAC,KAAD,CAAlB;QACAM,QAAQ,CAACO,SAAD,CAAR;QACAT,aAAa,CAACS,SAAD,CAAb;QACAX,OAAO,CAACW,SAAD,CAAP;QACAf,YAAY,CAAC,KAAD,CAAZ;MACD;IACF,CAhBH,EAiBGgB,KAjBH,CAiBS,MACLC,OAAO,CAACC,GAAR,CACE,8DADF,CAlBJ;EAsBD,CAvB+B,EAuB7B,EAvB6B,CAAhC;EAyBAzB,SAAS,CAAC,MAAM;IACdgB,YAAY;EACb,CAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;EAIA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE;MACLV,SADK;MAELE,eAFK;MAGLE,IAHK;MAILE,UAJK;MAKLS,KALK;MAMLL;IANK,CADT;IAAA,UAUGX;EAVH;IAAA;IAAA;IAAA;EAAA,QADF;AAcD,CAlDD;;GAAMD,mB;;KAAAA,mB;AAoDN,eAAeA,mBAAf"},"metadata":{},"sourceType":"module"}