{"ast":null,"code":"var _jsxFileName = \"/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/components/Home/SearchBar/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./index.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MIN_DISTANCE = 20; // import SavedSearchIcon from '@mui/icons-material/SavedSearch';\n// import CloseIcon from '@mui/icons-material/Close';\n// import the levenshtein algorithm for typo-tolerant search\n\nconst levenshtein = require(\"js-levenshtein\"); // the compoemnts takes two different props: placeholder and data\n\n\nfunction SearchBar(_ref) {\n  _s();\n\n  let {\n    placeholder,\n    data,\n    onChange\n  } = _ref;\n  const [filteredData, setFilteredData] = useState([]);\n  const [wordEntered, setWordEntered] = useState(\"\");\n\n  const handleFilter = event => {\n    const searchWord = event.target.value;\n    setWordEntered(searchWord);\n    const newFilter = data.filter(value => {\n      // allow for typo-tolerant search using the levenshtein algorithm\n      const distance = levenshtein(value.majorName.toLowerCase().slice(0, searchWord.length), searchWord.toLowerCase()); // console.log(distance)\n\n      const wordProgress = searchWord.length / value.majorName.length;\n      const levenshteinSatisfied = distance <= MIN_DISTANCE;\n      const percentageOfSwapping = distance / searchWord.length; // return levenshteinSatisfied\n\n      const included = value.majorName.toLowerCase().includes(searchWord.toLowerCase());\n\n      if (included) {\n        return included;\n      } else {\n        return levenshteinSatisfied && wordProgress >= 0.5 && percentageOfSwapping <= 0.6;\n      }\n    });\n\n    if (searchWord === \"\") {\n      setFilteredData([]);\n    } else {\n      setFilteredData(newFilter);\n    }\n  };\n\n  const handleClick = value => {\n    onChange(value);\n    setWordEntered(value);\n    setFilteredData([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchInputs\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"search-bar\",\n        type: \"text\",\n        placeholder: placeholder,\n        value: wordEntered,\n        onChange: handleFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), filteredData.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dataResult\",\n      children: filteredData.slice(0, 15).map((value, key) => {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"dataItem\",\n          target: \"_blank\",\n          onClick: () => handleClick(value.majorName),\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [value.majorName, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchBar, \"33ofi4ptmyQ7yvQ8YqRETBCPbkQ=\");\n\n_c = SearchBar;\nexport default SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","MIN_DISTANCE","levenshtein","require","SearchBar","placeholder","data","onChange","filteredData","setFilteredData","wordEntered","setWordEntered","handleFilter","event","searchWord","target","value","newFilter","filter","distance","majorName","toLowerCase","slice","length","wordProgress","levenshteinSatisfied","percentageOfSwapping","included","includes","handleClick","map","key"],"sources":["/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/components/Home/SearchBar/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./index.scss\";\nconst MIN_DISTANCE = 20;\n// import SavedSearchIcon from '@mui/icons-material/SavedSearch';\n// import CloseIcon from '@mui/icons-material/Close';\n\n// import the levenshtein algorithm for typo-tolerant search\nconst levenshtein = require(\"js-levenshtein\");\n\n// the compoemnts takes two different props: placeholder and data\nfunction SearchBar({ placeholder, data, onChange }) {\n  const [filteredData, setFilteredData] = useState([]);\n  const [wordEntered, setWordEntered] = useState(\"\");\n\n  const handleFilter = (event) => {\n    const searchWord = event.target.value;\n    setWordEntered(searchWord);\n    const newFilter = data.filter((value) => {\n      // allow for typo-tolerant search using the levenshtein algorithm\n      const distance = levenshtein(\n        value.majorName.toLowerCase().slice(0, searchWord.length),\n        searchWord.toLowerCase()\n      );\n      // console.log(distance)\n      const wordProgress = searchWord.length / value.majorName.length;\n      const levenshteinSatisfied = distance <= MIN_DISTANCE;\n      const percentageOfSwapping = distance / searchWord.length;\n\n      // return levenshteinSatisfied\n      const included = value.majorName\n        .toLowerCase()\n        .includes(searchWord.toLowerCase());\n\n      if (included) {\n        return included;\n      } else {\n        return (\n          levenshteinSatisfied &&\n          wordProgress >= 0.5 &&\n          percentageOfSwapping <= 0.6\n        );\n      }\n    });\n\n    if (searchWord === \"\") {\n      setFilteredData([]);\n    } else {\n      setFilteredData(newFilter);\n    }\n  };\n\n  const handleClick = (value) => {\n    onChange(value);\n    setWordEntered(value);\n    setFilteredData([]);\n  };\n\n  return (\n    <div className=\"search\">\n      {/* everything related to filtering data and searching */}\n\n      <div className=\"searchInputs\">\n        {/* where we actually put input */}\n        <input\n          className=\"search-bar\"\n          type=\"text\"\n          placeholder={placeholder}\n          value={wordEntered}\n          onChange={handleFilter}\n        />\n        {/* the little square */}\n        {/* <div className=\"searchIcon\">\n                {wordEntered.length == 0 ? <SavedSearchIcon/> : <CloseIcon id=\"clearBtn\" onClick={clearInput}/>}\n                \n            </div> */}\n      </div>\n      {filteredData.length !== 0 && (\n        <div className=\"dataResult\">\n          {filteredData.slice(0, 15).map((value, key) => {\n            return (\n              <a\n                className=\"dataItem\"\n                target=\"_blank\"\n                key={key}\n                onClick={() => handleClick(value.majorName)}\n              >\n                <p>{value.majorName} </p>\n              </a>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}