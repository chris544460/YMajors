{"ast":null,"code":"var _jsxFileName = \"/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/components/SearchBar/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./index.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MIN_DISTANCE = 20; // import SavedSearchIcon from '@mui/icons-material/SavedSearch';\n// import CloseIcon from '@mui/icons-material/Close';\n// import the levenshtein algorithm for typo-tolerant search\n\nconst levenshtein = require(\"js-levenshtein\"); // the compoemnts takes two different props: placeholder and data\n\n\nfunction SearchBar(_ref) {\n  _s();\n\n  let {\n    placeholder,\n    data,\n    onChange\n  } = _ref;\n  const [filteredData, setFilteredData] = useState([]);\n  const [wordEntered, setWordEntered] = useState(\"\");\n  const [major, setMajor] = useState(\"\");\n\n  const selectMajor = smt => {\n    const selectedMajor = smt.value;\n    console.log(smt.value);\n    setMajor(selectedMajor);\n  };\n\n  const handleFilter = event => {\n    const searchWord = event.target.value;\n    setWordEntered(searchWord);\n    const newFilter = data.filter(value => {\n      // allow for typo-tolerant search using the levenshtein algorithm\n      const distance = levenshtein(value.majorName.toLowerCase().slice(0, searchWord.length), searchWord.toLowerCase()); // console.log(distance)\n\n      const wordProgress = searchWord.length / value.majorName.length;\n      const levenshteinSatisfied = distance <= MIN_DISTANCE;\n      const percentageOfSwapping = distance / searchWord.length; // return levenshteinSatisfied\n\n      const included = value.majorName.toLowerCase().includes(searchWord.toLowerCase());\n\n      if (included) {\n        return included;\n      } else {\n        return levenshteinSatisfied && wordProgress >= 0.5 && percentageOfSwapping <= 0.6;\n      }\n    });\n\n    if (searchWord === \"\") {\n      setFilteredData([]);\n    } else {\n      setFilteredData(newFilter);\n    }\n  };\n\n  const clearInput = () => {\n    setFilteredData([]);\n    setWordEntered(\"\");\n  };\n\n  const handleClick = value => {\n    onChange(value);\n    setWordEntered(value);\n    setFilteredData([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchInputs\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: placeholder,\n        value: wordEntered,\n        onChange: handleFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), filteredData.length !== 0 &&\n    /*#__PURE__*/\n\n    /* this shows the result */\n    _jsxDEV(\"div\", {\n      className: \"dataResult\",\n      value: major,\n      children: filteredData.slice(0, 15).map((value, key) => {\n        // loop through all elements in data\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"dataItem\",\n          target: \"_blank\",\n          onClick: () => handleClick(value.majorName),\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [value.majorName, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this)\n        }, value.majorName, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchBar, \"ZcCM50iJ6rpOBDBqWtii48pcykQ=\");\n\n_c = SearchBar;\nexport default SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","MIN_DISTANCE","levenshtein","require","SearchBar","placeholder","data","onChange","filteredData","setFilteredData","wordEntered","setWordEntered","major","setMajor","selectMajor","smt","selectedMajor","value","console","log","handleFilter","event","searchWord","target","newFilter","filter","distance","majorName","toLowerCase","slice","length","wordProgress","levenshteinSatisfied","percentageOfSwapping","included","includes","clearInput","handleClick","map","key"],"sources":["/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/components/SearchBar/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./index.scss\";\nconst MIN_DISTANCE = 20;\n// import SavedSearchIcon from '@mui/icons-material/SavedSearch';\n// import CloseIcon from '@mui/icons-material/Close';\n\n// import the levenshtein algorithm for typo-tolerant search\nconst levenshtein = require(\"js-levenshtein\");\n\n// the compoemnts takes two different props: placeholder and data\nfunction SearchBar({ placeholder, data, onChange }) {\n  const [filteredData, setFilteredData] = useState([]);\n  const [wordEntered, setWordEntered] = useState(\"\");\n\n  const [major, setMajor] = useState(\"\");\n\n  const selectMajor = (smt) => {\n    const selectedMajor = smt.value;\n    console.log(smt.value);\n    setMajor(selectedMajor);\n  };\n\n  const handleFilter = (event) => {\n    const searchWord = event.target.value;\n    setWordEntered(searchWord);\n    const newFilter = data.filter((value) => {\n      // allow for typo-tolerant search using the levenshtein algorithm\n      const distance = levenshtein(\n        value.majorName.toLowerCase().slice(0, searchWord.length),\n        searchWord.toLowerCase()\n      );\n      // console.log(distance)\n      const wordProgress = searchWord.length / value.majorName.length;\n      const levenshteinSatisfied = distance <= MIN_DISTANCE;\n      const percentageOfSwapping = distance / searchWord.length;\n\n      // return levenshteinSatisfied\n      const included = value.majorName\n        .toLowerCase()\n        .includes(searchWord.toLowerCase());\n\n      if (included) {\n        return included;\n      } else {\n        return (\n          levenshteinSatisfied &&\n          wordProgress >= 0.5 &&\n          percentageOfSwapping <= 0.6\n        );\n      }\n\n    });\n\n    if (searchWord === \"\") {\n      setFilteredData([]);\n    } else {\n      setFilteredData(newFilter);\n    }\n  };\n\n  const clearInput = () => {\n    setFilteredData([]);\n    setWordEntered(\"\");\n  };\n\n  const handleClick = (value) => {\n    onChange(value);\n    setWordEntered(value);\n    setFilteredData([]);\n  };\n\n  return (\n    <div className=\"search\">\n      {/* everything related to filtering data and searching */}\n\n      <div className=\"searchInputs\">\n        {/* where we actually put input */}\n        <input\n          type=\"text\"\n          placeholder={placeholder}\n          value={wordEntered}\n          onChange={handleFilter}\n        />\n        {/* the little square */}\n        {/* <div className=\"searchIcon\">\n                {wordEntered.length == 0 ? <SavedSearchIcon/> : <CloseIcon id=\"clearBtn\" onClick={clearInput}/>}\n                \n            </div> */}\n      </div>\n      {filteredData.length !== 0 && (\n        /* this shows the result */\n        <div className=\"dataResult\" value={major}>\n          {filteredData.slice(0, 15).map((value, key) => {\n            // loop through all elements in data\n            return (\n              <a\n                className=\"dataItem\"\n                target=\"_blank\"\n                key={value.majorName}\n                onClick={() => handleClick(value.majorName)}\n              >\n                {/* <p onClick={() => setMajor(value.majorName)}>{value.majorName} </p> */}\n                <p>{value.majorName} </p>\n              </a>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}