{"ast":null,"code":"var _jsxFileName = \"/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n  const checkContext = useCallback(() => {\n    axios.get(\"/auth/check\").then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n\n      if (data.auth) {\n        console.log(data);\n        setIsAuthenticated(true);\n        setUser(data.user);\n        setcourseList(data.courseList);\n        setmaj;\n        setIsLoading(false);\n      } else {\n        setIsAuthenticated(false);\n        setUser(undefined);\n        setIsLoading(false);\n      }\n    }).catch(() => console.log(\"Something went wrong while trying to fetch your auth status.\"));\n  }, []);\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      isLoading,\n      isAuthenticated,\n      user,\n      checkContext\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserContextProvider, \"ujUzbNRN0PjDJwJuz9oxPAsJdqk=\");\n\n_c = UserContextProvider;\nexport default UserContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["useCallback","useEffect","useState","axios","UserContext","UserContextProvider","children","isLoading","setIsLoading","isAuthenticated","setIsAuthenticated","user","setUser","checkContext","get","then","data","auth","console","log","setcourseList","courseList","setmaj","undefined","catch"],"sources":["/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\n\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\n\nconst UserContextProvider = ({ children }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n\n  const checkContext = useCallback(() => {\n    axios\n      .get(\"/auth/check\")\n      .then(({ data }) => {\n        if (data.auth) {\n          console.log(data);\n          setIsAuthenticated(true);\n          setUser(data.user);\n          setcourseList(data.courseList)\n          setmaj\n          setIsLoading(false);\n        } else {\n          setIsAuthenticated(false);\n          setUser(undefined);\n          setIsLoading(false);\n        }\n      })\n      .catch(() =>\n        console.log(\n          \"Something went wrong while trying to fetch your auth status.\"\n        )\n      );\n  }, []);\n\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n\n  return (\n    <UserContext.Provider\n      value={{ isLoading, isAuthenticated, user, checkContext }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContextProvider;\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AAEA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;;AAEA,MAAMC,mBAAmB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC5C,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACO,eAAD,EAAkBC,kBAAlB,IAAwCR,QAAQ,CAAC,KAAD,CAAtD;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,EAAhC;EAEA,MAAMW,YAAY,GAAGb,WAAW,CAAC,MAAM;IACrCG,KAAK,CACFW,GADH,CACO,aADP,EAEGC,IAFH,CAEQ,SAAc;MAAA,IAAb;QAAEC;MAAF,CAAa;;MAClB,IAAIA,IAAI,CAACC,IAAT,EAAe;QACbC,OAAO,CAACC,GAAR,CAAYH,IAAZ;QACAN,kBAAkB,CAAC,IAAD,CAAlB;QACAE,OAAO,CAACI,IAAI,CAACL,IAAN,CAAP;QACAS,aAAa,CAACJ,IAAI,CAACK,UAAN,CAAb;QACAC,MAAM;QACNd,YAAY,CAAC,KAAD,CAAZ;MACD,CAPD,MAOO;QACLE,kBAAkB,CAAC,KAAD,CAAlB;QACAE,OAAO,CAACW,SAAD,CAAP;QACAf,YAAY,CAAC,KAAD,CAAZ;MACD;IACF,CAfH,EAgBGgB,KAhBH,CAgBS,MACLN,OAAO,CAACC,GAAR,CACE,8DADF,CAjBJ;EAqBD,CAtB+B,EAsB7B,EAtB6B,CAAhC;EAwBAlB,SAAS,CAAC,MAAM;IACdY,YAAY;EACb,CAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;EAIA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE;MAAEN,SAAF;MAAaE,eAAb;MAA8BE,IAA9B;MAAoCE;IAApC,CADT;IAAA,UAGGP;EAHH;IAAA;IAAA;IAAA;EAAA,QADF;AAOD,CAxCD;;GAAMD,mB;;KAAAA,mB;AA0CN,eAAeA,mBAAf"},"metadata":{},"sourceType":"module"}